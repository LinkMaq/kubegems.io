---
title: 可观察性
hide_title: true
sidebar_position: 4
---

## 可观察性

--- 
### 自定义监控

- **多维度监控：** KubeGems内置了对`主机`、`Kubernetes集群`和`容器`等服务的监控，通过内置的可视化界面和`Grafana`共同为用户提供精细化的监控详情

- **自定义告警策略和规则：** 支持多租户模式下的监控指标采集策略，用户在所在租户内可以进行自定义控制应用的指标采集规则，如监控端口，请求路径等信息

- **租户grafana面板：** 支持用户自行创建Grafana面板，并提供了常见的模版供用户选择

- **兼容Prometheus：** KubeGems采用Prometheus operator架构，可与用户现有环境无缝集成

- **平台组件状态：** KubeGems集成了内部组件和Kubernetes三方组件状态的监控，避免因平台组件故障造成的不必要停机

<img src="/img/docs/observability-monitoring.jpg" width="100%" />

### 多级告警

- **自定义告警策略和规则：** 支持多租户模式下的监控指标采集策略，用户在所在租户空间内可以进行自定义控制应用的指标采集以及设置告警阈值。

- **丰富的阈值规则：** 支持用户在告警规则中设置告警事件的重复时间、持续时间、告警级别、黑名单等功能来定制属于自己的规则

- **分级的告警：** 支持根据用户定义的告警级别，进行分级告警，避免大量无效告警

- **告警历史跟踪：** KubeGems为每一条告警策略都创建了一个告警详情页，里面完整记录了该规则自创建以来发生的每一次告警事件，它可以帮助用户在发生紧急故障时提供及时的事件反馈

- **告警渠道：** KubeGems在2.0.x版本支持`邮件（SMTP协议）`和`Webhook`两种渠道告警

- **告警实时通知：** KubeGems内置了实时消息组件，用户创建的告警规则在发生告警时，可是实时推送到KubeGems前端界面
### 日志查询与分析

<img src="/img/docs/observability-logging.jpg" width="100%" />

- **多租户日志管理：** 支持多租户模式下的日志管理，用户在所在租户空间内可以进行自定义控制容器日志采集规则和解析规则。

- **标签化查询语句：** 多维度的日志查询（项目、环境、容器组、应用、集群等关键字）、用户可以灵活方便的查询或者实时浏览日志

- **日志告警：** 通过过滤**日志关键字**，可以在用户应用发生告警时通知到运维、研发等同事

- **多种日志收集平台：** 用户可以选择多种日志收集平台，例如 `Elasticsearch，Loki，Kafka，S3`等

- **多种采集模式：** 支持**主机模式**和**边车模式**的日志采集客户端模式，解决用户在应用容器化后日志采集困难的问题

- **高性能和水平扩展：** 日志采集采用两级架构，出现日志高吞吐情况下，汇聚层支持**横向水平扩展**，提高架构整体的日志吞吐量
### 平台事件和审计

- **Kubernets事件持久化：** 支持多租户模式下的Kubernetes事件记录，用户可以搜索与所在租户相关的产生的所有事件。并支持通过根据`Reason`，`Message`等类型进行过滤
- **支持多集群事件查询：** KubeGems管理员可以查询所有集群下的事件，极大节省运维日常排查问题时的步骤

- **精细的审计记录：** KubeGems内部通过函数式是审计方式，为平台内的每一个操作都提供了详细的审计记录，甚至是用户登录容器执行的**Shell命令**也逐一审计入库。

### 分布式链路跟踪

<img src="/img/docs/observability-tracing.jpg" width="100%" />

- **支持OpenTracing协议**

- **应用链路监控**

- **垮集群链路跟踪**
